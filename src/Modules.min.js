var Modules=function(e,r){function a(e){if(arguments.length>2){for(var r="",a=0;a<arguments.length;a++)a>1?r+=e+arguments[a]:0!=a&&(r+=arguments[a]);return r}return 2==arguments.length?arguments[1]:""}function t(e){return e.replace(/\<(\/)?(.*?)\>/gm,"")}function s(e){return e.replace(/(^\s+|\s+$)/gm,"")}function n(e){return e.replace(/\n{3,}/gm,"<br><br>").replace(/\n/gm,"<br>")}function l(e){return e.replace(/\\./gm,function(e){return e.replace(/\\/gm,"")})}function c(e,r){var a=document.createElement("article");a.setAttribute("class","doctyp"),a.innerHTML=r,e.parentNode.replaceChild(a,e),a.querySelectorAll("pre").length>0&&i(a.querySelectorAll("pre"))}function i(e){for(var r=0;r<e.length;r++){var a=e[r],t=a.innerHTML,s=t.replace(/\<br\>/gm,"\n");a.innerHTML=s}}return e.SingleQuery=function(r){var a=r.innerHTML;a=e.Header(a),a=e.Text(a),a=e.Rule(a),a=e.Quote(a),a=e.Code(a),a=e.List(a),a=e.Link(a),a=e.Image(a),a=e.Table(a),a=l(n(a)),c(r,a)},e.MultipleQuery=function(r){if(!(r.length>0))throw"The elements are not defined or are not DOM elements.";for(var a=0;a<r.length;a++){var t=r[a],s=t.innerHTML;s=e.Header(s),s=e.Text(s),s=e.Rule(s),s=e.Quote(s),s=e.Code(s),s=e.List(s),s=e.Link(s),s=e.Image(s),s=e.Table(s),s=l(n(s)),c(t,s)}},e.Header=function(e){for(key in r.header)e=e.replace(r.header[key].regex,function(e){var a=t(e).replace(r.header[key].remove,"");return"header1"==key?'<span class="'+r["class"]+key+'">'+s(a)+'</span><hr class="'+r["class"]+'rule-header">':"header2"==key?'<span class="'+r["class"]+key+" "+r["class"]+'rule-header">'+s(a)+"</span>":'<span class="'+r["class"]+key+'">'+s(a)+"</span>"});return e},e.Text=function(e){for(key in r.text)e=e.replace(r.text[key].regex,function(e){var a=t(e).replace(r.text[key].remove,"");return'<span class="'+r["class"]+key+'">'+s(a)+"</span>"});return e},e.Rule=function(e){for(key in r.rule)e=e.replace(r.rule[key].regex,function(e){return'<hr class="'+r["class"]+key+'">'});return e},e.Quote=function(e){for(key in r.quote)e=e.replace(r.quote[key].regex,function(e){if("quote-code"==key){var n=t(e).replace(r.quote[key].remove,""),l=a(" ",r["class"]+key,"nohighlight","language-none");return'<code class="'+l+'">'+s(n)+"</code>"}if("quote-extra"==key){var c=t(e).split(/\]\{\[([\s\n]{1,})?/),i=c[0].split(/\[/)[1],o=c[2].split(/([\s\n]{1,})?\]\}/)[0],l=a(" ",r["class"]+key);return'<div class="'+l+'"><span class="'+r["class"]+'quote">"'+s(o)+'"</span><br><span class="'+r["class"]+'credit">'+s(i)+"</span></div>"}var n=t(e).replace(r.quote[key].remove,""),l=a(" ",r["class"]+key);return'<div class="'+l+'">"'+s(n)+'"</div>'});return e},e.Code=function(e){for(key in r.code)e=e.replace(r.code[key].regex,function(e){if("code-extra"==key){var n=t(e).split(/\]\{\(([\s\n]{1,})?/),l=n[0].split(/\[/)[1].split(/\|/),c=n[2].split(/([\s\n]{1,})?\)\}/)[0],i=s(l[0]).toLowerCase(),o=s(l[1]).toLowerCase(),u=a(" ",r["class"]+key,"language-"+i,"sh_"+i,"prettyprint","lang-"+i),p=i;return LoadScript("https://doctyp.github.io/src/Syntax/"+o+"/script.js"),LoadStyle("https://doctyp.github.io/src/Syntax/"+o+"/"+r.theme+".css"),'<pre class="'+u+'" data-language="'+p+'"><code class="'+u+'" data-language="'+p+'">'+c+"</code></pre>"}var g=t(e).replace(r.code[key].remove,""),u=a(" ","nohighlight","language-none");return'<pre class="'+r["class"]+key+" "+u+'"><code class="'+u+'">'+g+"</code></pre>"});return e},e.List=function(e){for(key in r.list)e=e.replace(r.list[key].regex,function(e){return"list-disc"==key||"list-circle"==key||"list-square"==key?'<ul class="'+r["class"]+key+'">'+e.replace(/.+\n/gm,function(e){var a=t(e).replace(r.list[key].remove,"");return"<li>"+s(a)+"</li>"})+"</ul>":"list-decimal"==key||"list-roman"==key||"list-alpha"==key?'<ol class="'+r["class"]+key+'">'+e.replace(/.+\n/gm,function(e){var a=t(e).replace(r.list[key].remove,"");return"<li>"+s(a)+"</li>"})+"</ol>":'<div class="'+r["class"]+key+'">'+e.replace(/.+\n/gm,function(e){var a=t(e).replace(/\[[Xx\s]?\]/gm,""),n=new RegExp(/\[\s?\]/gm).test(e)?"unchecked":"checked";return'<span class="'+r["class"]+n+'"><span class="'+r["class"]+'box"></span><span class="'+r["class"]+'item">'+s(a)+"</span></span><br>"})+"</div>"});return e},e.Link=function(e){for(key in r.link)e=e.replace(r.link[key].regex,function(e){if("url"==key){if(new RegExp(/^\[(.*?)\]\((.*?)(https?|ftp|file)\:\/{2}(.*?)\)$/gm).test(e)){var a=t(e).split(/\]\(/),n=a[0].split(/\[/)[1],l=a[1].split(/\]/)[0];return'<a class="'+r["class"]+key+'" href="'+s(l)+'" target="_blank">'+s(n)+"</a>"}return'<a class="'+r["class"]+key+'" href="'+s(e)+'" target="_blank">'+s(e)+"</a>"}return'<a class="'+r["class"]+key+'" href="mailto:'+s(e)+'" target="_blank">'+s(e)+"</a>"});return e},e.Image=function(e){for(key in r.image)e="image-extra"==key?e.replace(r.image[key].regex,function(e){var a=t(e).split(/\]\!\(/),n=a[0].split(/\[/)[1],l=a[1].split(/\)/)[0];return'<div class="'+r["class"]+key+'"><img class="'+r["class"]+'image" src="'+s(l)+'" alt="'+s(n)+'"><div class="'+r["class"]+'text">'+s(n)+"</div></div>"}):"image-plain"==key?e.replace(r.image[key].regex,function(e){var a=t(e).replace(r.image[key].remove,"");return'<img class="'+r["class"]+key+'" src="'+s(a)+'">'}):e.replace(r.image[key].regex,function(e){var a=e.replace(r.image[key].remove,"").replace(/(\n|\<br\>)/gm,"");return'<div class="'+r["class"]+key+'">'+s(a)+"</div>"});return e},e.Table=function(e){for(key in r.table)e='<table class="'+r["class"]+key+'"><tbody>'+e.replace(r.table[key].regex,function(e){for(var a=t(e).split(/\{\|/)[1].split(/\|\}/)[0],n=a.split(/\|{2}/),l="",c=0;c<n.length;c++){var i=n[c],o=i.match(/.+\n/gm).length,u=(100/o).toFixed(0),p=new RegExp(/\={2}/gm).test(i)?"th":"td";l+='<tr class="'+r["class"]+p+'">'+i.replace(/.+\n/gm,function(e){var a=e.replace(r.table[key].remove,"");return"<"+p+' class="'+r["class"]+'col" style="width: '+u+'%;">'+s(a)+"</"+p+">"})+"</tr>"}return l})+"</tbody></table>";return e},e}({},Settings||{});
